package services;

import javax.transaction.Transactional;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.validation.Validator;

import repositories.ReviewRepository;

@Transactional
@Service
public class ReviewService {

	@Autowired
	private ReviewRepository reviewRepository;
	
//	@Autowired
//	private ActorService				actorService;
	
	@Autowired
	private Validator					validator;
	
	
	// Simple CRUD methods -----------------------------------

	public Application create() {
		Actor principal;
		Application result;

		principal = this.actorService.findByPrincipal();
		Assert.isTrue(this.actorService.checkAuthority(principal, "ROOKIE"), "not.allowed");

		result = new Application();

		result.setApplicationMoment(new Date(System.currentTimeMillis() - 1));
		result.setStatus("PENDING");
		result.setRookie((Rookie) principal);

		return result;
	}
	
}
