package controllers;

import java.util.Collection;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.servlet.ModelAndView;

import domain.Event;
import domain.Film;
import domain.SocialProfile;

import services.CriticService;
import services.EventService;
import services.FilmService;
import services.FinderService;
import services.ReviewService;
import services.SponsorService;

@Controller
@RequestMapping(value = "statistics/administrator")
public class DashboardController extends AbstractController{
	
	
	@Autowired
	private FinderService finderService;
	
	@Autowired
	private ReviewService reviewService;
	@Autowired
	private SocialProfile socialProfile;
	@Autowired
	private SponsorService sponsorService;
	
	@Autowired
	private EventService eventService;
	
	@Autowired
	private FilmService filmService;
	
	@Autowired
	private CriticService criticService;
	
	
	
	@RequestMapping(value = "/display", method = RequestMethod.GET)
	public ModelAndView display() {
		ModelAndView result;
		
		
		Double RatioFindersEmpty=this.finderService.RatioFindersEmpty();
		Double[] StatsFinder=this.finderService.StatsFinder();
		Double [] statsCommentsPerFilm=this.filmService.statsCommentsPerFilm();
		Double[] statsPersonsPerFilm=this.filmService.statsPersonsPerFilm();
		Collection<Film> filmsWithHighestRating=this.filmService.filmsWithHighestRating();
		Double ratioFinalModeFilms=this.filmService.ratioFinalModeFilms();
		Collection<Film> top5FilmsWithMoreRunTime=this.filmService.top5FilmsWithMoreRunTime();
		Double[] statsPointsVisualizationPerFilm=this.filmService.statsPointsVisualizationPerFilm();
		
		Collection<Event> EventsWithHigeshtMaximumCapacity=this.eventService.EventsWithHigeshtMaximumCapacity();
		
		
	
		result = new ModelAndView("administrator/statistics");
		

		result.addObject("requestURI", "statistics/administrator/display.do");
		return result;
	}
	

}
